window.GM_addStyle=e=>{let t=document.createElement("style");t.textContent=e,document.head.appendChild(t)},window.GM_setValue=(e,t)=>localStorage.setItem("SUPA_"+e,JSON.stringify(t)),window.GM_getValue=(e,t)=>{let a=localStorage.getItem("SUPA_"+e);return a?JSON.parse(a):t},window.unsafeWindow=window,function(){"use strict";if(window.__SUPA_HUB__)return;window.__SUPA_HUB__=!0;let e={username:"",coins:0,avatar:"",id:""},t=[],a="",i=!1,r=GM_getValue("supa_lib_data",[{id:"root_folder",name:"Default Scripts",type:"folder",isOpen:!0,children:[{id:"def_1",name:"Basic Template",type:"script",icon:"\uD83D\uDCC4",json:null}]},{id:"user_folder",name:"My Saved Scripts",type:"folder",isOpen:!0,children:[]}]),o={apiGames:"https://www.modd.io/api/v1/games/",apiCreations:"https://www.modd.io/api/v1/creations/",apiLocalUser:"https://www.modd.io/api/v1/user/",apiPublicUser:"https://www.modd.io/api/v1/user-by-name/",apiGamesByUser:"https://www.modd.io/api/v1/games-by-user-id/",apiEditorCheck:e=>`https://www.modd.io/api/game/${e}/game-data-for-creators/`,logos:{big:"https://cdn.modd.io/_next/static/media/logo.08e05f95.svg",small:"https://cdn.modd.io/_next/static/media/logo-alt.3b46c8b8.svg"}},n=`
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap');
        :root { --bg-deep: #060608; --bg-sidebar: rgba(10, 10, 14, 0.98); --accent: #6366f1; --text-main: #f4f4f5; --text-dim: #a1a1aa; --border: rgba(255, 255, 255, 0.08); --glass: rgba(255, 255, 255, 0.04); --green: #22c55e; }
        * { scrollbar-width: thin; scrollbar-color: var(--border) transparent; }
        ::-webkit-scrollbar { width: 5px; height: 5px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--accent); }
        body.supa-active #__next > div > nav, body.supa-active #__next > div > div.flex.flex-col, body.supa-active footer { display: none !important; }
        html.supa-active, body.supa-active { background-color: var(--bg-deep) !important; font-family: 'Plus Jakarta Sans', sans-serif !important; margin: 0 !important; color: var(--text-main); overflow: hidden; }
        #supa-app { position: fixed; inset: 0; z-index: 1000; display: none; background: radial-gradient(circle at 10% 10%, #11111a 0%, #060608 100%); }
        #supa-app.visible { display: flex; }
        .supa-sidebar { width: 260px; background: var(--bg-sidebar); border-right: 1px solid var(--border); padding: 25px 15px; display: flex; flex-direction: column; }
        .supa-logo { width: 110px; margin-bottom: 25px; padding-left: 10px; cursor: pointer; }
        .supa-label { font-size: 10px; font-weight: 800; color: #444; text-transform: uppercase; letter-spacing: 1.5px; margin: 18px 0 6px 12px; }
        .supa-nav-btn { padding: 10px 12px; border-radius: 10px; color: var(--text-dim); text-decoration: none; cursor: pointer; font-weight: 600; transition: 0.2s; display: flex; align-items: center; gap: 12px; font-size: 13.5px; margin-bottom: 2px; }
        .supa-nav-btn:hover { background: var(--glass); color: white; transform: translateX(4px); }
        .supa-nav-btn.active { background: rgba(99, 102, 241, 0.12); color: var(--accent); }
        .sidebar-footer { margin-top: auto; padding: 15px; border-top: 1px solid var(--border); font-size: 12px; color: var(--text-dim); }
        .supa-main-container { flex: 1; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        .supa-header { height: 80px; padding: 0 50px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; }
        .search-input { width: 400px; background: var(--glass); border: 1px solid var(--border); padding: 12px 20px; border-radius: 12px; color: white; outline: none; }
        .supa-profile-area { display: flex; align-items: center; gap: 15px; }
        .supa-coin-wrap { display: flex; align-items: center; gap: 8px; background: var(--glass); padding: 8px 14px; border-radius: 12px; border: 1px solid var(--border); color: white; text-decoration: none; font-weight: 700; font-size: 14px; }
        .supa-content { flex: 1; overflow-y: auto; padding: 40px 50px; scroll-behavior: smooth; transform: translate3d(0,0,0); backface-visibility: hidden; }
        .section-title { font-size: 20px; font-weight: 800; color: white; margin: 40px 0 20px 0; display: flex; align-items: center; gap: 10px; }
        .supa-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; margin-bottom: 40px; }
        .supa-card { background: var(--glass); border: 1px solid var(--border); border-radius: 16px; overflow: hidden; transition: 0.3s; position: relative; }
        .card-img-wrap { position: relative; height: 160px; background: #000; }
        .card-img { width: 100%; height: 100%; object-fit: cover; }
        .info-trigger { position: absolute; top: 12px; left: 12px; width: 28px; height: 28px; background: rgba(0,0,0,0.7); backdrop-filter: blur(4px); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 10; border: 1px solid rgba(255,255,255,0.1); color: white; font-weight: 800; font-size: 13px; }
        .creator-online { position: absolute; top: 12px; right: 12px; width: 10px; height: 10px; background: var(--green); border-radius: 50%; border: 2px solid black; box-shadow: 0 0 10px var(--green); }
        .card-body { padding: 18px; }
        .card-name { font-weight: 700; font-size: 16px; margin-bottom: 4px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }
        .card-author { font-size: 12px; color: var(--text-dim); margin-bottom: 12px; }
        .card-stats-row { display: flex; align-items: center; gap: 8px; font-size: 11px; font-weight: 800; }
        .stat-active { color: var(--accent); text-transform: uppercase; }
        .stat-total { color: #555; }
        .btn-action { width: 100%; margin-top: 15px; background: var(--accent); color: white; border: none; padding: 11px; border-radius: 10px; font-weight: 700; cursor: pointer; transition: 0.2s; }
        .btn-action:hover { opacity: 0.9; transform: scale(1.02); }
        .supa-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(8px); z-index: 10000; display: none; align-items: center; justify-content: center; }
        .modal-box { background: #0f0f12; border: 1px solid var(--border); width: 450px; padding: 40px; border-radius: 24px; display:flex; flex-direction:column; gap:15px; }
        #report-editor-window, #report-editor-window .wb-body, #report-editor-window .tailwind, #report-editor-window .editor-background { background-color: #08080a !important; background-image: none !important; font-family: 'Plus Jakarta Sans', sans-serif !important; }
        #report-editor-window .wb-header { background: #0d0d12 !important; border-bottom: 1px solid var(--border) !important; }
        #report-editor-window .tw-bg-gray-700 { background-color: rgba(255, 255, 255, 0.03) !important; backdrop-filter: blur(10px); }
        #report-editor-window .tw-divide-gray-600 > * { border-color: var(--border) !important; }
        #report-editor-window .editor-background.tw-bg-primary-700, #report-editor-window .tw-bg-primary-700 { background-color: var(--accent) !important; }

        .supa-script-lib { width: 300px; background: #08080a; border-right: 1px solid var(--border); display: flex; flex-direction: column; transition: width 0.3s ease; position: relative; z-index: 99; flex-shrink: 0; }
        .supa-script-lib.collapsed { width: 0px; border-right: none; }
        .supa-script-lib.collapsed .supa-lib-header, .supa-script-lib.collapsed .supa-lib-list, .supa-script-lib.collapsed .supa-lib-tools { display: none; }
        .supa-lib-header { padding: 20px; font-weight: 800; font-size: 11px; text-transform: uppercase; color: var(--accent); letter-spacing: 1.2px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
        .supa-lib-tools { padding: 10px; border-bottom: 1px solid var(--border); display: flex; gap: 8px; background: rgba(255,255,255,0.02); }
        .supa-tool-input { flex: 1; background: #000; border: 1px solid var(--border); color: white; padding: 6px 10px; border-radius: 6px; font-size: 12px; outline: none; }
        .supa-tool-btn { background: var(--glass); border: 1px solid var(--border); color: white; width: 28px; height: 28px; border-radius: 6px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s; font-size:14px; }
        .supa-tool-btn:hover { background: var(--accent); border-color: var(--accent); }
        .supa-lib-list { flex: 1; overflow-y: auto; padding: 15px; }

        .folder-group { margin-bottom: 5px; }
        .folder-header { padding: 8px 10px; cursor: pointer; font-size: 12px; font-weight: 700; color: #fff; display: flex; align-items: center; gap: 8px; opacity: 0.8; user-select: none; }
        .folder-header:hover { opacity: 1; color: var(--accent); }
        .folder-content { padding-left: 12px; display: none; border-left: 1px solid rgba(255,255,255,0.05); margin-left: 9px; }
        .folder-content.open { display: block; }

        .supa-lib-item { padding: 10px; background: var(--glass); border: 1px solid var(--border); border-radius: 8px; cursor: pointer; font-size: 12px; margin-bottom: 6px; transition: 0.2s; display: flex; align-items: center; gap: 8px; color: #ffffff; font-weight: 600; position: relative; }
        .supa-lib-item:hover { border-color: var(--accent); background: rgba(99, 102, 241, 0.15); transform: translateX(4px); }
        .supa-item-del { position: absolute; right: 10px; opacity: 0; transition: 0.2s; font-size: 12px; }
        .supa-lib-item:hover .supa-item-del { opacity: 0.5; }
        .supa-item-del:hover { opacity: 1 !important; color: #ff4444; }

        .supa-lib-arrow { position: absolute; left: 100%; top: 50%; transform: translateY(-50%); width: 24px; height: 50px; background: #08080a; border: 1px solid var(--border); border-left: none; border-radius: 0 8px 8px 0; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--text-dim); transition: 0.2s; z-index: 1000; }
        .supa-lib-arrow:hover { color: white; background: var(--accent); }

        .game-editor-widget button { background: var(--bg-sidebar) !important; border: 1px solid var(--border) !important; border-radius: 8px !important; font-family: 'Plus Jakarta Sans' !important; transition: 0.2s !important; }
        .game-editor-widget button:hover { background: var(--glass) !important; border-color: var(--accent) !important; }
        #publish-game-id { background: var(--accent) !important; border: none !important; font-weight: 800 !important; }

        .modal-input { background: #000; border: 1px solid var(--border); color: white; padding: 10px; border-radius: 8px; width: 100%; box-sizing: border-box; font-family: monospace; }
        .modal-textarea { background: #000; border: 1px solid var(--border); color: #a5b3ce; padding: 10px; border-radius: 8px; width: 100%; height: 200px; box-sizing: border-box; font-family: monospace; font-size: 12px; resize: none; white-space: pre; overflow: auto; }
    `;async function s(){try{let t=await fetch(o.apiLocalUser),a=await t.json();"success"===a.status&&(e={username:a.data.local.username,coins:Math.floor(a.data.coins||0),id:a.data._id,avatar:a.data.local.profilePicture||"https://cache.modd.io/profile/default_profile_picture_human.png"})}catch(i){}}async function l(e){if(!e)return!1;try{let t=await fetch(o.apiEditorCheck(e)),a=await t.json();return"error"!==a.status}catch(i){return!1}}function d(){let e="abcdefghijklmnopqrstuvwxyz0123456789",t="";for(let a=0;a<16;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}async function p(e){let t=Array.from(document.querySelectorAll("button")).find(e=>e.textContent.includes("New Script"));if(!t){alert("Please select the Scripts tab first!");return}t.click();let a=0,i=setInterval(async()=>{a++;let t=document.querySelector("select.custom-input");if(t||a>20){if(clearInterval(i),!t)return;t.value="2",t.dispatchEvent(new Event("change",{bubbles:!0})),setTimeout(()=>{let a=document.querySelector(".monaco-editor, .ace_editor"),i=document.querySelector(".monaco-editor textarea, textarea.ace_text-input");if(i&&a){var r;i.focus();let o=window.getSelection(),n=document.createRange();n.selectNodeContents(a),o.removeAllRanges(),o.addRange(n),document.execCommand("delete",!1,null);let s=e.json||{triggers:[],conditions:[{operator:"==",operandType:"boolean"},!0,!0],actions:[],name:(r=e.name)||"New Custom Script",parent:null,key:d()};e.json&&(s.key=d(),s.name=e.name);let l=JSON.stringify(s,null,4);if(unsafeWindow.monaco){let p=unsafeWindow.monaco.editor.getEditors?.()||[];if(p[0]?.getModel()){p[0].getModel().setValue(l);return}}i.dispatchEvent(new Event("input",{bubbles:!0})),setTimeout(()=>{t.value="0",t.dispatchEvent(new Event("change",{bubbles:!0}))},500)}},600)}},100)}function c(){GM_setValue("supa_lib_data",r)}function u(e,t){let a=r.find(t=>t.id===e);a&&a.children?a.children.push(t):r[1].children.push(t),c(),g()}function b(){if(unsafeWindow.monaco){let e=unsafeWindow.monaco.editor.getEditors();if(e.length>0){let t=e[0].getValue();try{let a=JSON.parse(t),i=prompt("Enter a name for this collected script:",a.name||"Collected Script"),r=prompt("Enter an emoji for this script:","\uD83D\uDCBE")||"\uD83D\uDCBE";i&&(a.name=i,u("user_folder",{id:"saved_"+Date.now(),name:i,type:"script",icon:r,json:a}))}catch(o){alert("Invalid JSON or no script selected. Open a script in the editor first!")}}else alert("No editor found.")}}function m(){let e=document.createElement("div");e.className="supa-modal",e.style.display="flex",e.innerHTML=`
            <div class="modal-box">
                <h3 style="margin:0; color:white;">Create Custom Script</h3>
                <input class="modal-input" id="cust-name" placeholder="Script Name">
                <input class="modal-input" id="cust-icon" placeholder="Emoji Icon (e.g. ‚ö°)" maxlength="2">
                <textarea class="modal-textarea" id="cust-json" placeholder="Paste JSON here (optional), or leave empty for default template"></textarea>
                <div style="display:flex; gap:10px;">
                    <button class="btn-action" id="cust-save">Save to Library</button>
                    <button class="btn-action" style="background:#222;" id="cust-cancel">Cancel</button>
                </div>
            </div>
        `,document.body.appendChild(e),document.getElementById("cust-cancel").onclick=()=>e.remove(),document.getElementById("cust-save").onclick=()=>{let t=document.getElementById("cust-name").value||"Untitled Script",a=document.getElementById("cust-icon").value||"\uD83D\uDEE0",i=document.getElementById("cust-json").value,r=null;if(i.trim())try{r=JSON.parse(i)}catch(o){alert("Invalid JSON!");return}u("user_folder",{id:"custom_"+Date.now(),name:t,type:"script",icon:a,json:r}),e.remove()}}function g(e=""){let t=document.querySelector(".supa-lib-list");if(!t)return;t.innerHTML="";let a=(t,i,o=!1)=>{t.forEach(t=>{if(!e||"script"!==t.type||t.name.toLowerCase().includes(e.toLowerCase())){if("folder"===t.type){let n=document.createElement("div");n.className="folder-group";let s=document.createElement("div");s.className="folder-header",s.innerHTML=`<span>${t.isOpen?"\uD83D\uDCC2":"\uD83D\uDCC1"}</span> ${t.name}`,s.onclick=()=>{t.isOpen=!t.isOpen,c(),g(e)};let l=document.createElement("div");l.className="folder-content"+(t.isOpen||e?" open":""),t.children&&t.children.length>0?a(t.children,l,"user_folder"===t.id):l.innerHTML='<div style="font-size:10px; opacity:0.3; padding:5px;">Empty</div>',n.appendChild(s),n.appendChild(l),i.appendChild(n)}else{let d=document.createElement("div");if(d.className="supa-lib-item",d.innerHTML=`<span>${t.icon||"\uD83D\uDCC4"}</span> <span>${t.name}</span>`,o){let u=document.createElement("span");u.className="supa-item-del",u.innerHTML="\uD83D\uDDD1Ô∏è",u.title="Remove Script",u.onclick=e=>{e.stopPropagation(),function e(t){if(!confirm("Are you sure you want to remove this script from your library?"))return;let a=r.find(e=>"user_folder"===e.id);a&&(a.children=a.children.filter(e=>e.id!==t),c(),g())}(t.id)},d.appendChild(u)}d.onclick=()=>p(t),i.appendChild(d)}}})};a(r,t)}async function $(e=null){let a=location.pathname,r=document.getElementById("supa-app");if(a.startsWith("/play/")){let n=unsafeWindow.gameId;n&&(i=await l(n))&&document.body.classList.add("supa-editor-active");return}let s="/"===a||"/create/"===a||a.startsWith("/user/");if(!s){document.body.classList.remove("supa-active"),document.documentElement.classList.remove("supa-active"),r&&r.classList.remove("visible");return}document.body.classList.add("supa-active"),document.documentElement.classList.add("supa-active"),r&&r.classList.add("visible");let d=document.getElementById("supa-view");if(!d)return;let p=e||("/create/"===a?"create":a.startsWith("/user/")?"profile":"discover");document.querySelectorAll(".supa-nav-btn").forEach(e=>e.classList.toggle("active",e.dataset.view===p)),d.innerHTML='<h2 style="opacity:0.1; text-align:center; margin-top:100px;">Synchronizing...</h2>';try{if("profile"===p){let c=a.split("/")[2],u=await fetch(o.apiPublicUser+c),b=await u.json(),m=await fetch(o.apiGamesByUser+b.data._id),g=await m.json();d.innerHTML=`
                    <div style="background:var(--glass); border:1px solid var(--border); border-radius:24px; padding:40px; display:flex; align-items:center; gap:35px; margin-bottom:40px;">
                        <img src="${b.data.local.profilePicture}" style="width:120px; height:120px; border-radius:20px; border:2px solid var(--accent); object-fit:cover;">
                        <div>
                            <h1 style="margin:0; font-size:32px;">${b.data.local.username}</h1>
                            <p style="color:var(--text-dim); margin:10px 0 20px 0;">${b.data.local.bio||"Professional Goober"}</p>
                            <div style="display:flex; gap:30px;">
                                <div><div style="font-size:20px; font-weight:800;">${g.length}</div><div style="font-size:11px; color:var(--text-dim); text-transform:uppercase;">Creations</div></div>
                                <div><div style="font-size:20px; font-weight:800;">${g.reduce((e,t)=>e+(t.totalPlayCount||0),0).toLocaleString()}</div><div style="font-size:11px; color:var(--text-dim); text-transform:uppercase;">Total Plays</div></div>
                            </div>
                        </div>
                    </div>
                `,v(d,"Games by "+b.data.local.username,g)}else if("create"===p){let $=await fetch(o.apiCreations),f=await $.json();d.innerHTML='<h1 style="margin-bottom:30px;">Project Dashboard</h1>',v(d,"My Games",f.games.filter(e=>!e.isGameContributor),!0),f.invitedGames&&f.invitedGames.length>0&&v(d,"Shared with Me",f.invitedGames,!0)}else{let x=await fetch(o.apiGames),h=await x.json();d.innerHTML="";let y=new Map;if(h.forEach(e=>{e.games&&e.games.forEach(e=>y.set(e._id,e))}),t=Array.from(y.values()),"updated"===p){let w=[...t].sort((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt)).slice(0,20);v(d,"Recently Updated Games",w)}else if("trending"===p){let _=[...t].sort((e,t)=>(t.playerCount||0)-(e.playerCount||0)).slice(0,25);v(d,"Trending Now (Active Players)",_)}else h.slice(0,5).forEach(e=>v(d,e.title,e.games))}}catch(k){}}function v(e,t,a,i=!1){if(!a||0===a.length)return;let r=document.createElement("div");r.innerHTML=`<div class="section-title">${t} <span style="opacity:0.2; font-size:14px; margin-left:10px;">(${a.length})</span></div><div class="supa-grid"></div>`;let n=r.querySelector(".supa-grid");a.forEach(e=>{let t=document.createElement("div");t.className="supa-card";let a=(e.playerCount||0)>0,r=a?`<span class="stat-active">${e.playerCount} PLAYING</span>`:`<span class="stat-total">${(e.totalPlayCount||0).toLocaleString()} PLAYS</span>`;t.innerHTML=`
                <div class="card-img-wrap">
                    <div class="info-trigger" title="View Info">i</div>
                    ${e.isOwnerInGame?'<div class="creator-online" title="Creator is in-game!"></div>':""}
                    <img src="${e.cover}" class="card-img" onerror="this.src='${o.logos.small}'">
                </div>
                <div class="card-body">
                    <div class="card-name">${e.title}</div>
                    <div class="card-author">by ${e.owner?.local?.username||"Unknown"}</div>
                    <div class="card-stats-row">${r}</div>
                    <button class="btn-action" onclick="location.href='/play/${e.gameSlug}'">${i?"OPEN EDITOR":"PLAY GAME"}</button>
                </div>
            `,t.querySelector(".info-trigger").onclick=t=>{t.stopPropagation(),function e(t){let a=document.getElementById("info-modal");document.getElementById("modal-title").innerText=t.title,document.getElementById("modal-desc").innerText=t.description||"No description provided.",document.getElementById("modal-stats").innerHTML=`
            <div><b>Engine:</b> ${t.engineVersion||"2.0"}</div>
            <div><b>Tier:</b> ${t.tier||"Standard"}</div>
            <div><b>Updated:</b> ${new Date(t.updatedAt).toLocaleDateString()}</div>
        `,a.style.display="flex"}(e)},n.appendChild(t)}),e.appendChild(r)}GM_addStyle(n),s().then(()=>{setInterval(()=>{location.pathname!==a&&(a=location.pathname,function a(){if(document.getElementById("supa-app"))return;let i=document.createElement("div");i.id="supa-app",i.innerHTML=`
            <div class="supa-sidebar">
                <img src="${o.logos.big}" class="supa-logo" onclick="location.href='/'">
                <div class="supa-label">Supa Hub</div>
                <div class="supa-nav-btn" data-view="discover">üè† Discover</div>
                <div class="supa-nav-btn" data-view="trending">üî• Trending</div>
                <div class="supa-nav-btn" data-view="updated">‚≠ê Recently Updated</div>
                <div class="supa-label">Dashboard</div>
                <div class="supa-nav-btn" data-view="create">üõ† My Projects</div>
                <a class="supa-nav-btn" href="/pricing/">üí∞ Pricing</a>
                <a class="supa-nav-btn" href="https://discord.gg/XRe8T7K" target="_blank">üí¨ Discord</a>
                <div class="sidebar-footer">
                    <div style="margin-bottom:8px; font-weight:800; color:white;">Made by Kktrxs</div>
                    <div style="opacity:0.6;">Modd.io UI ReImagined :)</div>
                </div>
            </div>
            <div class="supa-main-container">
                <div class="supa-header">
                    <input type="text" class="search-input" id="supa-search" placeholder="Search games or creators...">
                    <div class="supa-profile-area" id="header-profile"></div>
                </div>
                <div class="supa-content" id="supa-view"></div>
            </div>
            <div class="supa-modal" id="info-modal"><div class="modal-box">
                <h2 id="modal-title" style="margin-top:0; color:white;"></h2>
                <p id="modal-desc" style="color:var(--text-dim); font-size:14px; line-height:1.6;"></p>
                <div id="modal-stats" style="margin-top:25px; display:grid; grid-template-columns:1fr 1fr; gap:15px; font-size:13px; color:white;"></div>
                <button onclick="document.getElementById('info-modal').style.display='none'" class="btn-action" style="background:#222;">Close Info</button>
            </div></div>
        `,document.body.appendChild(i),document.getElementById("header-profile").innerHTML=`
            <a href="/user/${e.username}/coins/summary/" class="supa-coin-wrap">
                <img src="https://cdn.modd.io/_next/static/media/coin.48d19fc3.svg" width="18"> ${e.coins}
            </a>
            <a href="/user/${e.username}/">
                <img src="${e.avatar}" style="width:42px; height:42px; border-radius:10px; border:1px solid var(--border);">
            </a>
        `,document.querySelectorAll(".supa-nav-btn[data-view]").forEach(e=>{e.onclick=()=>{let t=e.dataset.view;"create"===t?history.pushState(null,null,"/create/"):history.pushState(null,null,"/"),$(t)}}),document.getElementById("supa-search").oninput=e=>{let a=e.target.value.toLowerCase(),i=document.getElementById("supa-view");if(a.length>0){let r=t.filter(e=>e.title?.toLowerCase().includes(a)||e.owner?.local?.username?.toLowerCase().includes(a));i.innerHTML="",v(i,"Search Results",r)}else $()}}(),$()),location.pathname.startsWith("/play/")&&location.hash.includes("world-script")&&function e(){let t=document.querySelector("#editor-script-entity-world-script");if(!t||t.parentElement.querySelector(".supa-script-lib"))return;let a=t.parentElement;a.style.display="flex",a.style.flexDirection="row";let i=document.createElement("div");i.className="supa-script-lib",i.innerHTML=`
            <div class="supa-lib-arrow" title="Toggle Library">‚óÄ</div>
            <div class="supa-lib-header">
                Supa Library
                <span style="font-size:9px; opacity:0.5;">v3.1</span>
            </div>
            <div class="supa-lib-tools">
                <input class="supa-tool-input" placeholder="Search scripts..." id="lib-search">
                <div class="supa-tool-btn" id="btn-create" title="Create New">+</div>
                <div class="supa-tool-btn" id="btn-collect" title="Collect Current">‚¨á</div>
            </div>
            <div class="supa-lib-list"></div>
        `,a.insertBefore(i,t),t.style.flex="1",t.style.width="auto";let r=i.querySelector(".supa-lib-arrow");r.onclick=()=>{i.classList.toggle("collapsed"),r.innerText=i.classList.contains("collapsed")?"‚ñ∂":"‚óÄ"},document.getElementById("lib-search").oninput=e=>g(e.target.value),document.getElementById("btn-collect").onclick=b,document.getElementById("btn-create").onclick=m,g()}()},800)})}();
