window.GM_addStyle=e=>{const t=document.createElement("style");t.textContent=e,document.head.appendChild(t)},window.GM_setValue=(e,t)=>localStorage.setItem("SUPA_"+e,JSON.stringify(t)),window.GM_getValue=(e,t)=>{const a=localStorage.getItem("SUPA_"+e);return a?JSON.parse(a):t},window.unsafeWindow=window,function(){"use strict";if(window.__SUPA_HUB__)return;window.__SUPA_HUB__=!0;let e={username:"",coins:0,avatar:"",id:""},t=[],a="",n=!1;let o=GM_getValue("supa_lib_data",[{id:"root_folder",name:"Default Scripts",type:"folder",isOpen:!0,children:[{id:"def_1",name:"Basic Template",type:"script",icon:"üìÑ",json:null}]},{id:"user_folder",name:"My Saved Scripts",type:"folder",isOpen:!0,children:[]}]);const i={apiGames:"https://www.modd.io/api/v1/games/",apiCreations:"https://www.modd.io/api/v1/creations/",apiLocalUser:"https://www.modd.io/api/v1/user/",apiPublicUser:"https://www.modd.io/api/v1/user-by-name/",apiGamesByUser:"https://www.modd.io/api/v1/games-by-user-id/",apiEditorCheck:e=>`https://www.modd.io/api/game/${e}/game-data-for-creators/`,logos:{big:"https://cdn.modd.io/_next/static/media/logo.08e05f95.svg",small:"https://cdn.modd.io/_next/static/media/logo-alt.3b46c8b8.svg"}};function r(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<16;a++)t+=e.charAt(Math.floor(36*Math.random()));return t}async function s(e){const t=Array.from(document.querySelectorAll("button")).find((e=>e.textContent.includes("New Script")));if(!t)return void alert("Please select the Scripts tab first!");t.click();let a=0;const n=setInterval((async()=>{a++;const t=document.querySelector("select.custom-input");if(t||a>20){if(clearInterval(n),!t)return;t.value="2",t.dispatchEvent(new Event("change",{bubbles:!0})),setTimeout((()=>{const a=document.querySelector(".monaco-editor, .ace_editor"),n=document.querySelector(".monaco-editor textarea, textarea.ace_text-input");if(n&&a){n.focus();const o=window.getSelection(),i=document.createRange();i.selectNodeContents(a),o.removeAllRanges(),o.addRange(i),document.execCommand("delete",!1,null);let s=e.json||{triggers:[],conditions:[{operator:"==",operandType:"boolean"},!0,!0],actions:[],name:e.name||"New Custom Script",parent:null,key:r()};e.json&&(s.key=r(),s.name=e.name);const d=JSON.stringify(s,null,4);if(unsafeWindow.monaco){const e=unsafeWindow.monaco.editor.getEditors?.()||[];if(e[0]?.getModel())return void e[0].getModel().setValue(d)}n.dispatchEvent(new Event("input",{bubbles:!0})),setTimeout((()=>{t.value="0",t.dispatchEvent(new Event("change",{bubbles:!0}))}),500)}}),600)}}),100)}function d(){GM_setValue("supa_lib_data",o)}function l(e,t){const a=o.find((t=>t.id===e));a&&a.children?a.children.push(t):o[1].children.push(t),d(),u()}function c(){if(unsafeWindow.monaco){const e=unsafeWindow.monaco.editor.getEditors();if(e.length>0){const t=e[0].getValue();try{const e=JSON.parse(t),a=prompt("Enter a name for this collected script:",e.name||"Collected Script"),n=prompt("Enter an emoji for this script:","üíæ")||"üíæ";a&&(e.name=a,l("user_folder",{id:"saved_"+Date.now(),name:a,type:"script",icon:n,json:e}))}catch(e){alert("Invalid JSON or no script selected. Open a script in the editor first!")}}else alert("No editor found.")}}function p(){const e=document.createElement("div");e.className="supa-modal",e.style.display="flex",e.innerHTML='\n            <div class="modal-box">\n                <h3 style="margin:0; color:white;">Create Custom Script</h3>\n                <input class="modal-input" id="cust-name" placeholder="Script Name">\n                <input class="modal-input" id="cust-icon" placeholder="Emoji Icon (e.g. ‚ö°)" maxlength="2">\n                <textarea class="modal-textarea" id="cust-json" placeholder="Paste JSON here (optional), or leave empty for default template"></textarea>\n                <div style="display:flex; gap:10px;">\n                    <button class="btn-action" id="cust-save">Save to Library</button>\n                    <button class="btn-action" style="background:#222;" id="cust-cancel">Cancel</button>\n                </div>\n            </div>\n        ',document.body.appendChild(e),document.getElementById("cust-cancel").onclick=()=>e.remove(),document.getElementById("cust-save").onclick=()=>{const t=document.getElementById("cust-name").value||"Untitled Script",a=document.getElementById("cust-icon").value||"üõ†";let n=document.getElementById("cust-json").value,o=null;if(n.trim())try{o=JSON.parse(n)}catch(e){return void alert("Invalid JSON!")}l("user_folder",{id:"custom_"+Date.now(),name:t,type:"script",icon:a,json:o}),e.remove()}}function u(e=""){const t=document.querySelector(".supa-lib-list");if(!t)return;t.innerHTML="";const a=(t,n,i=!1)=>{t.forEach((t=>{if(!e||"script"!==t.type||t.name.toLowerCase().includes(e.toLowerCase()))if("folder"===t.type){const o=document.createElement("div");o.className="folder-group";const i=document.createElement("div");i.className="folder-header",i.innerHTML=`<span>${t.isOpen?"üìÇ":"üìÅ"}</span> ${t.name}`,i.onclick=()=>{t.isOpen=!t.isOpen,d(),u(e)};const r=document.createElement("div");r.className="folder-content"+(t.isOpen||e?" open":""),t.children&&t.children.length>0?a(t.children,r,"user_folder"===t.id):r.innerHTML='<div style="font-size:10px; opacity:0.3; padding:5px;">Empty</div>',o.appendChild(i),o.appendChild(r),n.appendChild(o)}else{const e=document.createElement("div");if(e.className="supa-lib-item",e.innerHTML=`<span>${t.icon||"üìÑ"}</span> <span>${t.name}</span>`,i){const a=document.createElement("span");a.className="supa-item-del",a.innerHTML="üóëÔ∏è",a.title="Remove Script",a.onclick=e=>{e.stopPropagation(),function(e){if(!confirm("Are you sure you want to remove this script from your library?"))return;const t=o.find((e=>"user_folder"===e.id));t&&(t.children=t.children.filter((t=>t.id!==e)),d(),u())}(t.id)},e.appendChild(a)}e.onclick=()=>s(t),n.appendChild(e)}}))};a(o,t)}async function m(e=null){const a=location.pathname,o=document.getElementById("supa-app");if(a.startsWith("/play/")){const e=unsafeWindow.gameId;return void(e&&(n=await async function(e){if(!e)return!1;try{const t=await fetch(i.apiEditorCheck(e));return"error"!==(await t.json()).status}catch(e){return!1}}(e),n&&document.body.classList.add("supa-editor-active")))}if(!("/"===a||"/create/"===a||a.startsWith("/user/")))return document.body.classList.remove("supa-active"),document.documentElement.classList.remove("supa-active"),void(o&&o.classList.remove("visible"));document.body.classList.add("supa-active"),document.documentElement.classList.add("supa-active"),o&&o.classList.add("visible");const r=document.getElementById("supa-view");if(!r)return;const s=e||("/create/"===a?"create":a.startsWith("/user/")?"profile":"discover");document.querySelectorAll(".supa-nav-btn").forEach((e=>e.classList.toggle("active",e.dataset.view===s))),r.innerHTML='<h2 style="opacity:0.1; text-align:center; margin-top:100px;">Synchronizing...</h2>';try{if("profile"===s){const e=a.split("/")[2],t=await fetch(i.apiPublicUser+e),n=await t.json(),o=await fetch(i.apiGamesByUser+n.data._id),s=await o.json();r.innerHTML=`\n                    <div style="background:var(--glass); border:1px solid var(--border); border-radius:24px; padding:40px; display:flex; align-items:center; gap:35px; margin-bottom:40px;">\n                        <img src="${n.data.local.profilePicture}" style="width:120px; height:120px; border-radius:20px; border:2px solid var(--accent); object-fit:cover;">\n                        <div>\n                            <h1 style="margin:0; font-size:32px;">${n.data.local.username}</h1>\n                            <p style="color:var(--text-dim); margin:10px 0 20px 0;">${n.data.local.bio||"Professional Goober"}</p>\n                            <div style="display:flex; gap:30px;">\n                                <div><div style="font-size:20px; font-weight:800;">${s.length}</div><div style="font-size:11px; color:var(--text-dim); text-transform:uppercase;">Creations</div></div>\n                                <div><div style="font-size:20px; font-weight:800;">${s.reduce(((e,t)=>e+(t.totalPlayCount||0)),0).toLocaleString()}</div><div style="font-size:11px; color:var(--text-dim); text-transform:uppercase;">Total Plays</div></div>\n                            </div>\n                        </div>\n                    </div>\n                `,b(r,"Games by "+n.data.local.username,s)}else if("create"===s){const e=await fetch(i.apiCreations),t=await e.json();r.innerHTML='<h1 style="margin-bottom:30px;">Project Dashboard</h1>',b(r,"My Games",t.games.filter((e=>!e.isGameContributor)),!0),t.invitedGames&&t.invitedGames.length>0&&b(r,"Shared with Me",t.invitedGames,!0)}else{const e=await fetch(i.apiGames),a=await e.json();r.innerHTML="";const n=new Map;if(a.forEach((e=>{e.games&&e.games.forEach((e=>n.set(e._id,e)))})),t=Array.from(n.values()),"updated"===s){const e=[...t].sort(((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt))).slice(0,20);b(r,"Recently Updated Games",e)}else if("trending"===s){const e=[...t].sort(((e,t)=>(t.playerCount||0)-(e.playerCount||0))).slice(0,25);b(r,"Trending Now (Active Players)",e)}else a.slice(0,5).forEach((e=>b(r,e.title,e.games)))}}catch(e){}}function b(e,t,a,n=!1){if(!a||0===a.length)return;const o=document.createElement("div");o.innerHTML=`<div class="section-title">${t} <span style="opacity:0.2; font-size:14px; margin-left:10px;">(${a.length})</span></div><div class="supa-grid"></div>`;const r=o.querySelector(".supa-grid");a.forEach((e=>{const t=document.createElement("div");t.className="supa-card";const a=(e.playerCount||0)>0?`<span class="stat-active">${e.playerCount} PLAYING</span>`:`<span class="stat-total">${(e.totalPlayCount||0).toLocaleString()} PLAYS</span>`;t.innerHTML=`\n                <div class="card-img-wrap">\n                    <div class="info-trigger" title="View Info">i</div>\n                    ${e.isOwnerInGame?'<div class="creator-online" title="Creator is in-game!"></div>':""}\n                    <img src="${e.cover}" class="card-img" onerror="this.src='${i.logos.small}'">\n                </div>\n                <div class="card-body">\n                    <div class="card-name">${e.title}</div>\n                    <div class="card-author">by ${e.owner?.local?.username||"Unknown"}</div>\n                    <div class="card-stats-row">${a}</div>\n                    <button class="btn-action" onclick="location.href='/play/${e.gameSlug}'">${n?"OPEN EDITOR":"PLAY GAME"}</button>\n                </div>\n            `,t.querySelector(".info-trigger").onclick=t=>{t.stopPropagation(),function(e){const t=document.getElementById("info-modal");document.getElementById("modal-title").innerText=e.title,document.getElementById("modal-desc").innerText=e.description||"No description provided.",document.getElementById("modal-stats").innerHTML=`\n            <div><b>Engine:</b> ${e.engineVersion||"2.0"}</div>\n            <div><b>Tier:</b> ${e.tier||"Standard"}</div>\n            <div><b>Updated:</b> ${new Date(e.updatedAt).toLocaleDateString()}</div>\n        `,t.style.display="flex"}(e)},r.appendChild(t)})),e.appendChild(o)}GM_addStyle("\n        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap');\n        :root { --bg-deep: #060608; --bg-sidebar: rgba(10, 10, 14, 0.98); --accent: #6366f1; --text-main: #f4f4f5; --text-dim: #a1a1aa; --border: rgba(255, 255, 255, 0.08); --glass: rgba(255, 255, 255, 0.04); --green: #22c55e; }\n        * { scrollbar-width: thin; scrollbar-color: var(--border) transparent; }\n        ::-webkit-scrollbar { width: 5px; height: 5px; }\n        ::-webkit-scrollbar-track { background: transparent; }\n        ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }\n        ::-webkit-scrollbar-thumb:hover { background: var(--accent); }\n        body.supa-active #__next > div > nav, body.supa-active #__next > div > div.flex.flex-col, body.supa-active footer { display: none !important; }\n        html.supa-active, body.supa-active { background-color: var(--bg-deep) !important; font-family: 'Plus Jakarta Sans', sans-serif !important; margin: 0 !important; color: var(--text-main); overflow: hidden; }\n        #supa-app { position: fixed; inset: 0; z-index: 1000; display: none; background: radial-gradient(circle at 10% 10%, #11111a 0%, #060608 100%); }\n        #supa-app.visible { display: flex; }\n        .supa-sidebar { width: 260px; background: var(--bg-sidebar); border-right: 1px solid var(--border); padding: 25px 15px; display: flex; flex-direction: column; }\n        .supa-logo { width: 110px; margin-bottom: 25px; padding-left: 10px; cursor: pointer; }\n        .supa-label { font-size: 10px; font-weight: 800; color: #444; text-transform: uppercase; letter-spacing: 1.5px; margin: 18px 0 6px 12px; }\n        .supa-nav-btn { padding: 10px 12px; border-radius: 10px; color: var(--text-dim); text-decoration: none; cursor: pointer; font-weight: 600; transition: 0.2s; display: flex; align-items: center; gap: 12px; font-size: 13.5px; margin-bottom: 2px; }\n        .supa-nav-btn:hover { background: var(--glass); color: white; transform: translateX(4px); }\n        .supa-nav-btn.active { background: rgba(99, 102, 241, 0.12); color: var(--accent); }\n        .sidebar-footer { margin-top: auto; padding: 15px; border-top: 1px solid var(--border); font-size: 12px; color: var(--text-dim); }\n        .supa-main-container { flex: 1; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }\n        .supa-header { height: 80px; padding: 0 50px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; }\n        .search-input { width: 400px; background: var(--glass); border: 1px solid var(--border); padding: 12px 20px; border-radius: 12px; color: white; outline: none; }\n        .supa-profile-area { display: flex; align-items: center; gap: 15px; }\n        .supa-coin-wrap { display: flex; align-items: center; gap: 8px; background: var(--glass); padding: 8px 14px; border-radius: 12px; border: 1px solid var(--border); color: white; text-decoration: none; font-weight: 700; font-size: 14px; }\n        .supa-content { flex: 1; overflow-y: auto; padding: 40px 50px; scroll-behavior: smooth; transform: translate3d(0,0,0); backface-visibility: hidden; }\n        .section-title { font-size: 20px; font-weight: 800; color: white; margin: 40px 0 20px 0; display: flex; align-items: center; gap: 10px; }\n        .supa-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; margin-bottom: 40px; }\n        .supa-card { background: var(--glass); border: 1px solid var(--border); border-radius: 16px; overflow: hidden; transition: 0.3s; position: relative; }\n        .card-img-wrap { position: relative; height: 160px; background: #000; }\n        .card-img { width: 100%; height: 100%; object-fit: cover; }\n        .info-trigger { position: absolute; top: 12px; left: 12px; width: 28px; height: 28px; background: rgba(0,0,0,0.7); backdrop-filter: blur(4px); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 10; border: 1px solid rgba(255,255,255,0.1); color: white; font-weight: 800; font-size: 13px; }\n        .creator-online { position: absolute; top: 12px; right: 12px; width: 10px; height: 10px; background: var(--green); border-radius: 50%; border: 2px solid black; box-shadow: 0 0 10px var(--green); }\n        .card-body { padding: 18px; }\n        .card-name { font-weight: 700; font-size: 16px; margin-bottom: 4px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }\n        .card-author { font-size: 12px; color: var(--text-dim); margin-bottom: 12px; }\n        .card-stats-row { display: flex; align-items: center; gap: 8px; font-size: 11px; font-weight: 800; }\n        .stat-active { color: var(--accent); text-transform: uppercase; }\n        .stat-total { color: #555; }\n        .btn-action { width: 100%; margin-top: 15px; background: var(--accent); color: white; border: none; padding: 11px; border-radius: 10px; font-weight: 700; cursor: pointer; transition: 0.2s; }\n        .btn-action:hover { opacity: 0.9; transform: scale(1.02); }\n        .supa-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(8px); z-index: 10000; display: none; align-items: center; justify-content: center; }\n        .modal-box { background: #0f0f12; border: 1px solid var(--border); width: 450px; padding: 40px; border-radius: 24px; display:flex; flex-direction:column; gap:15px; }\n        #report-editor-window, #report-editor-window .wb-body, #report-editor-window .tailwind, #report-editor-window .editor-background { background-color: #08080a !important; background-image: none !important; font-family: 'Plus Jakarta Sans', sans-serif !important; }\n        #report-editor-window .wb-header { background: #0d0d12 !important; border-bottom: 1px solid var(--border) !important; }\n        #report-editor-window .tw-bg-gray-700 { background-color: rgba(255, 255, 255, 0.03) !important; backdrop-filter: blur(10px); }\n        #report-editor-window .tw-divide-gray-600 > * { border-color: var(--border) !important; }\n        #report-editor-window .editor-background.tw-bg-primary-700, #report-editor-window .tw-bg-primary-700 { background-color: var(--accent) !important; }\n\n        .supa-script-lib { width: 300px; background: #08080a; border-right: 1px solid var(--border); display: flex; flex-direction: column; transition: width 0.3s ease; position: relative; z-index: 99; flex-shrink: 0; }\n        .supa-script-lib.collapsed { width: 0px; border-right: none; }\n        .supa-script-lib.collapsed .supa-lib-header, .supa-script-lib.collapsed .supa-lib-list, .supa-script-lib.collapsed .supa-lib-tools { display: none; }\n        .supa-lib-header { padding: 20px; font-weight: 800; font-size: 11px; text-transform: uppercase; color: var(--accent); letter-spacing: 1.2px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }\n        .supa-lib-tools { padding: 10px; border-bottom: 1px solid var(--border); display: flex; gap: 8px; background: rgba(255,255,255,0.02); }\n        .supa-tool-input { flex: 1; background: #000; border: 1px solid var(--border); color: white; padding: 6px 10px; border-radius: 6px; font-size: 12px; outline: none; }\n        .supa-tool-btn { background: var(--glass); border: 1px solid var(--border); color: white; width: 28px; height: 28px; border-radius: 6px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s; font-size:14px; }\n        .supa-tool-btn:hover { background: var(--accent); border-color: var(--accent); }\n        .supa-lib-list { flex: 1; overflow-y: auto; padding: 15px; }\n\n        .folder-group { margin-bottom: 5px; }\n        .folder-header { padding: 8px 10px; cursor: pointer; font-size: 12px; font-weight: 700; color: #fff; display: flex; align-items: center; gap: 8px; opacity: 0.8; user-select: none; }\n        .folder-header:hover { opacity: 1; color: var(--accent); }\n        .folder-content { padding-left: 12px; display: none; border-left: 1px solid rgba(255,255,255,0.05); margin-left: 9px; }\n        .folder-content.open { display: block; }\n\n        .supa-lib-item { padding: 10px; background: var(--glass); border: 1px solid var(--border); border-radius: 8px; cursor: pointer; font-size: 12px; margin-bottom: 6px; transition: 0.2s; display: flex; align-items: center; gap: 8px; color: #ffffff; font-weight: 600; position: relative; }\n        .supa-lib-item:hover { border-color: var(--accent); background: rgba(99, 102, 241, 0.15); transform: translateX(4px); }\n        .supa-item-del { position: absolute; right: 10px; opacity: 0; transition: 0.2s; font-size: 12px; }\n        .supa-lib-item:hover .supa-item-del { opacity: 0.5; }\n        .supa-item-del:hover { opacity: 1 !important; color: #ff4444; }\n\n        .supa-lib-arrow { position: absolute; left: 100%; top: 50%; transform: translateY(-50%); width: 24px; height: 50px; background: #08080a; border: 1px solid var(--border); border-left: none; border-radius: 0 8px 8px 0; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--text-dim); transition: 0.2s; z-index: 1000; }\n        .supa-lib-arrow:hover { color: white; background: var(--accent); }\n\n        .game-editor-widget button { background: var(--bg-sidebar) !important; border: 1px solid var(--border) !important; border-radius: 8px !important; font-family: 'Plus Jakarta Sans' !important; transition: 0.2s !important; }\n        .game-editor-widget button:hover { background: var(--glass) !important; border-color: var(--accent) !important; }\n        #publish-game-id { background: var(--accent) !important; border: none !important; font-weight: 800 !important; }\n\n        .modal-input { background: #000; border: 1px solid var(--border); color: white; padding: 10px; border-radius: 8px; width: 100%; box-sizing: border-box; font-family: monospace; }\n        .modal-textarea { background: #000; border: 1px solid var(--border); color: #a5b3ce; padding: 10px; border-radius: 8px; width: 100%; height: 200px; box-sizing: border-box; font-family: monospace; font-size: 12px; resize: none; white-space: pre; overflow: auto; }\n    "),async function(){try{const t=await fetch(i.apiLocalUser),a=await t.json();"success"===a.status&&(e={username:a.data.local.username,coins:Math.floor(a.data.coins||0),id:a.data._id,avatar:a.data.local.profilePicture||"https://cache.modd.io/profile/default_profile_picture_human.png"})}catch(e){}}().then((()=>{setInterval((()=>{location.pathname!==a&&(a=location.pathname,function(){if(document.getElementById("supa-app"))return;const a=document.createElement("div");a.id="supa-app",a.innerHTML=`\n            <div class="supa-sidebar">\n                <img src="${i.logos.big}" class="supa-logo" onclick="location.href='/'">\n                <div class="supa-label">Supa Hub</div>\n                <div class="supa-nav-btn" data-view="discover">üè† Discover</div>\n                <div class="supa-nav-btn" data-view="trending">üî• Trending</div>\n                <div class="supa-nav-btn" data-view="updated">‚≠ê Recently Updated</div>\n                <div class="supa-label">Dashboard</div>\n                <div class="supa-nav-btn" data-view="create">üõ† My Projects</div>\n                <a class="supa-nav-btn" href="/pricing/">üí∞ Pricing</a>\n                <a class="supa-nav-btn" href="https://discord.gg/XRe8T7K" target="_blank">üí¨ Discord</a>\n                <div class="sidebar-footer">\n                    <div style="margin-bottom:8px; font-weight:800; color:white;">Made by Kktrxs</div>\n                    <div style="opacity:0.6;">Modd.io UI ReImagined :)</div>\n                </div>\n            </div>\n            <div class="supa-main-container">\n                <div class="supa-header">\n                    <input type="text" class="search-input" id="supa-search" placeholder="Search games or creators...">\n                    <div class="supa-profile-area" id="header-profile"></div>\n                </div>\n                <div class="supa-content" id="supa-view"></div>\n            </div>\n            <div class="supa-modal" id="info-modal"><div class="modal-box">\n                <h2 id="modal-title" style="margin-top:0; color:white;"></h2>\n                <p id="modal-desc" style="color:var(--text-dim); font-size:14px; line-height:1.6;"></p>\n                <div id="modal-stats" style="margin-top:25px; display:grid; grid-template-columns:1fr 1fr; gap:15px; font-size:13px; color:white;"></div>\n                <button onclick="document.getElementById('info-modal').style.display='none'" class="btn-action" style="background:#222;">Close Info</button>\n            </div></div>\n        `,document.body.appendChild(a),document.getElementById("header-profile").innerHTML=`\n            <a href="/user/${e.username}/coins/summary/" class="supa-coin-wrap">\n                <img src="https://cdn.modd.io/_next/static/media/coin.48d19fc3.svg" width="18"> ${e.coins}\n            </a>\n            <a href="/user/${e.username}/">\n                <img src="${e.avatar}" style="width:42px; height:42px; border-radius:10px; border:1px solid var(--border);">\n            </a>\n        `,document.querySelectorAll(".supa-nav-btn[data-view]").forEach((e=>{e.onclick=()=>{const t=e.dataset.view;"create"===t?history.pushState(null,null,"/create/"):history.pushState(null,null,"/"),m(t)}})),document.getElementById("supa-search").oninput=e=>{const a=e.target.value.toLowerCase(),n=document.getElementById("supa-view");if(a.length>0){const e=t.filter((e=>e.title?.toLowerCase().includes(a)||e.owner?.local?.username?.toLowerCase().includes(a)));n.innerHTML="",b(n,"Search Results",e)}else m()}}(),m()),location.pathname.startsWith("/play/")&&location.hash.includes("world-script")&&function(){const e=document.querySelector("#editor-script-entity-world-script");if(!e||e.parentElement.querySelector(".supa-script-lib"))return;const t=e.parentElement;t.style.display="flex",t.style.flexDirection="row";const a=document.createElement("div");a.className="supa-script-lib",a.innerHTML='\n            <div class="supa-lib-arrow" title="Toggle Library">‚óÄ</div>\n            <div class="supa-lib-header">\n                Supa Library\n                <span style="font-size:9px; opacity:0.5;">v3.1</span>\n            </div>\n            <div class="supa-lib-tools">\n                <input class="supa-tool-input" placeholder="Search scripts..." id="lib-search">\n                <div class="supa-tool-btn" id="btn-create" title="Create New">+</div>\n                <div class="supa-tool-btn" id="btn-collect" title="Collect Current">‚¨á</div>\n            </div>\n            <div class="supa-lib-list"></div>\n        ',t.insertBefore(a,e),e.style.flex="1",e.style.width="auto";const n=a.querySelector(".supa-lib-arrow");n.onclick=()=>{a.classList.toggle("collapsed"),n.innerText=a.classList.contains("collapsed")?"‚ñ∂":"‚óÄ"},document.getElementById("lib-search").oninput=e=>u(e.target.value),document.getElementById("btn-collect").onclick=c,document.getElementById("btn-create").onclick=p,u()}()}),800)}))}();
